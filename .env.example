# =============================================================================
# KPH (Kubernetes Policy Hub) - Environment Configuration
# =============================================================================
# KPH works out of the box with NO configuration required.
# All variables below are OPTIONAL unless noted.
#
# Copy this file to .env and customize as needed:
#   cp .env.example .env
# =============================================================================

# --- Database ---
# Required for local development. Docker Compose sets this automatically.
DATABASE_URL="postgresql://kph:kph-docker-password@localhost:5432/kph"

# --- Application URL ---
# Set this to your public URL in production
# NEXT_PUBLIC_APP_URL="https://kph.example.com"

# =============================================================================
# AUTHENTICATION (Optional)
# =============================================================================
# Default: Anonymous admin mode (no authentication required)
# KPH runs with a default admin user - suitable for:
#   - Local development
#   - Single-user deployments
#   - Behind VPN/reverse proxy
#
# To enable multi-user authentication, choose a provider:

# --- Option 1: Clerk (hosted auth, easiest) ---
# Sign up at https://clerk.com and create an application
# KPH_AUTH_PROVIDER=clerk
# NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
# CLERK_SECRET_KEY=sk_test_...

# Clerk redirect URLs (optional - defaults work for most cases)
# NEXT_PUBLIC_CLERK_SIGN_IN_URL="/sign-in"
# NEXT_PUBLIC_CLERK_SIGN_UP_URL="/sign-up"
# NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL="/dashboard"
# NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL="/onboarding"

# --- Option 2: OIDC (self-hosted, coming soon) ---
# Works with Keycloak, Dex, Auth0, Okta, Azure AD, etc.
# KPH_AUTH_PROVIDER=oidc
# KPH_OIDC_ISSUER_URL=https://keycloak.example.com/realms/kph
# KPH_OIDC_CLIENT_ID=kph
# KPH_OIDC_CLIENT_SECRET=secret

# =============================================================================
# AI POLICY GENERATION (Optional, BYOM)
# =============================================================================
# Enable natural language to Kubernetes policy generation
# Supports multiple LLM providers - bring your own model!

# --- Option 1: Anthropic Claude (recommended) ---
# Sign up at https://console.anthropic.com
ANTHROPIC_API_KEY=
# Or use explicit provider config:
# KPH_LLM_PROVIDER=anthropic
# KPH_LLM_API_KEY=sk-ant-...
# KPH_LLM_MODEL=claude-3-haiku-20240307

# --- Option 2: OpenAI ---
# KPH_LLM_PROVIDER=openai
# KPH_LLM_API_KEY=sk-...
# KPH_LLM_MODEL=gpt-4o-mini

# --- Option 3: Ollama (local, free) ---
# Run Ollama locally: https://ollama.ai
# KPH_LLM_PROVIDER=ollama
# KPH_LLM_ENDPOINT=http://localhost:11434/v1
# KPH_LLM_MODEL=llama3

# --- Option 4: OpenAI-compatible APIs ---
# Works with Azure OpenAI, Together AI, Groq, etc.
# KPH_LLM_PROVIDER=openai-compatible
# KPH_LLM_ENDPOINT=https://api.together.xyz/v1
# KPH_LLM_API_KEY=...
# KPH_LLM_MODEL=meta-llama/Llama-3-70b-chat-hf

# =============================================================================
# EMAIL (Optional)
# =============================================================================
# Required only for team invitation emails

# --- Resend (recommended) ---
# Sign up at https://resend.com
# RESEND_API_KEY=re_...
# KPH_EMAIL_FROM="Policy Hub <noreply@yourdomain.com>"

# --- SMTP (coming soon) ---
# KPH_EMAIL_PROVIDER=smtp
# KPH_SMTP_HOST=smtp.example.com
# KPH_SMTP_PORT=587
# KPH_SMTP_USER=
# KPH_SMTP_PASS=

# =============================================================================
# SECURITY
# =============================================================================
# Encryption key for sensitive data (cluster tokens, etc.)
# Generate with: openssl rand -base64 32
# Auto-generated if not set, but set explicitly for production
# ENCRYPTION_KEY=

# =============================================================================
# DOCKER COMPOSE OVERRIDES
# =============================================================================
# These only apply when using docker-compose.yml

# Database password (default: kph-docker-password)
# KPH_DB_PASSWORD=

# Exposed ports (defaults: 3000 for app, 5432 for database)
# KPH_PORT=3000
# KPH_DB_PORT=5432

# Use a pre-built image instead of building locally
# KPH_IMAGE=ghcr.io/kubenetlabs/kph:latest
